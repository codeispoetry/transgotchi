<?php

namespace Wapuugotchi\Wapuugotchi;

if (!defined('ABSPATH')) : exit(); endif; // No direct access allowed.

class Menu
{
	public function __construct()
	{
		add_action('admin_init', array($this, 'init'));
		add_action('admin_menu', [$this, 'create_menu_page']);
	}

	public function init() {
		wp_enqueue_style( 'wapuugotchi-log', plugins_url( 'css/questLog.css', __DIR__ ) );

	}
	public function create_menu_page()
	{
		$capability = 'manage_options';
		$slug = 'wapuugotchi';

		add_menu_page(
			__('Wapuugotchi', 'wapuugotchi'),
			__('WapuuGotchi', 'wapuugotchi'),
			$capability,
			$slug,
			[$this, 'customizer_page_template'],
			'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSItMTAgLTUgMTAzNCAxMDM0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik01MzAgNzZxLTg0IDAtMTU0IDM1dC0xMTAgOThxLTEzIDEzLTM2IDI2LTIwIDEyLTI4IDE0LTEyIDMtMTkgMTIuNXQtNiAyMC41cTEgMTAgOCAxOHQyMCAxM2wtNiA2cS0xOSAyMy0xNSA0NyAxIDUgMyA5LTQxIDY5LTQxIDE0OSAwIDIwIDMgNDAtNi0yLTEzLTItMTUgMC0yOCA2LjVUODUgNTg2cS0yMSAyNi0xMyA2NCA1IDI0IDI4LjUgNTZ0NTMuNSA1NnEzMyAyNyA2MSAzMyA5IDIgMTcgMiAyNCAwIDM3LTE4IDMtNiA1LTEyIDYyIDQyIDEzNyA1MCA3IDIzIDI2IDMzIDEzIDcgMzEgNyA0MSAwIDY3LTMxaDVxMjAgMCA0Mi0zLTM4IDQyLTkxIDY4LTQ5IDI0LTkyIDI0LTUxIDAtNzItMzQtMTYtMjktNDEtNDV0LTUyLjUtMTYtNDUgMTgtMTguNSA0N3EtMSAzMiAzMiA2NiAzMCAzMSA3NiA1MiA1MyAyMyAxMDYgMjMgMjUgMCA0OC01IDY2LTE2IDEyNS41LTU0VDY2MCA4NzZ0NjAtMTExcTU5LTQ2IDg2LTE0MiAyMi04MyAxNy0xODUtNS05Mi0yOC0xNTctNC0xMy05LTI0aDE1cTE3IDAgMzQtNCAzMS0xMCA1NC0yOCAyMC0xNiAzMS0zNiAxMS0xOCAxMC0zMiAwLTExLTYtMTl0LTE0LjUtMTAtNDkuNS0yaC04NnEtNjAgMC05MC0xLTYzLTQ2LTE0NC00OWgtMTB6bTAgMzEgMjUgMXExNCAxIDI3IDRsMTEgM3ExNSA0IDI5IDEwbDE3IDggMTYgOS0yIDItMiA0LTEgNCAxIDUgNCA4cTMgNSA4IDEwbDE0IDEyIDI1IDE5IDMzIDE5IDIgNHE4IDEzIDE1IDI3bDYgMTMgOCAyMiA5IDI5cTUgMTggOCA0MCA2IDMzIDggNjkgNCA1MSAwIDk5bC0zIDI1cS0yIDE3LTUgMzNsLTYgMjQtNyAyNi0xMyAzMi0xMiAyMy0xMiAxOC0xNCAxNnEtMTEgMTEtMjMgMTlsLTEyIDgtMTIgN3EtMTEgNy0yMyAxMmwtMTEgNS0xNiA2cS0xOCA2LTM1IDlsLTE0IDItMTcgMnEtOCAxLTE3IDAgNC05IDYtMThsNC0xNSAzLTE0IDEtMTh2LTlxMC0xMC0yLTIwbC0zLTE2LTYtMTkgOS0xNSAxMC0xMyA5LTggMTAtOCA5LTZxMjEtMTEgNDctMTRsMTUtMSAxNiAyIDExIDJxMTAgMiAxOCA2IDUgMiA5IDVsNCAycTQgNCA3IDggMSAxIDMgMiA0IDIgOC0xbDItMyAxLTMtMi01LTgtOC0xMS04cTMtOSA1LTE4bDItMTAgMy0zMyAxLTIzLTItMjQtMy0yMC0zLTEyIDMgMWg1cTItMSAzLTJsMS0ycTEtMiAxLTVsLTItMy01MC00NC0yMy0xOC0xMi03LTE1LTktMjAtOC0xOS01LTIxLTNxLTggMC0xOCAxbC0xNSAycS0xMCAxLTI0IDRsLTE3IDQtMzYgN3EtOSAxLTE1IDAtMTItMS0yMS03bC05LTdxLTItMy0yLTYtMi02IDEtMTRsNy0xMSAxNi0xNSAxMS04cTYtMyAxMy02bDEzLTYgMTctNiAxOC00cTktMSAxOS0ybDE1LTEgMTYgMXExNiAxIDMwIDRsNiAycTkgMiAxNyA1bDQgMXEyIDAgMy0xbDMtNCAxLTNxMC0yLTEtNGwtMS0xcS0xLTEtMy0ybC0xNC01cS0xOS01LTM5LTdsLTEwLTFoLTE1di0ybDEtMy0yLTRxLTEtMS0zLTJoLTVxLTE5IDYtMzIgOWwtMTIgM3EtMzQgNi02MC0ybC0xMS0zLTE4LTlxLTIgMC0zLjUuNVQzODQgMjU0bC0xIDJxLTMgNC02IDlsLTggOC02IDUtMTQgOXEtMTAgNi0yMSAxMWwtMTAgM3EtNiAzLTEyIDRsLTQgMWgtNmwtNy0zLTUtNXEtNC01LTctMTF2LTJxLTItNC0yLTh2LTEzbDQtMTVxMy04IDktMTdsMTUtMjIgMzgtNDAgNTMtMzMgNTktMjF6bTEzOSA0OGgzbDUwIDJoMTAwbDc3IDEtMiA4LTMgOC0xMCAxM3EtMjIgMjUtNTggMzYtOSAzLTE5IDRoLTZsLTE1LTFxLTEzLTItMjYtN2wtMTktOHEtMTAtNS0yMC0xMWwtMTQtOS0xNC0xMS0xNy0xNS0xMC0xMGgzem0tMTY3IDlxLTYgMC0xMC41IDQuNXQtNC41IDExIDQuNSAxMVQ1MDIgMTk1dDEwLjUtNC41IDQuNS0xMS00LjUtMTFUNTAyIDE2NHptLTkxIDQxaC0zcS0yMiAyLTMxLjUgOS41VDM2OSAyMjl0MTIgOGwyIDFxOSAxIDEzIDB0MTMtOCAxMC0xNi04LTl6bS04NiAycS03IDAtMTEuNSA0LjVUMzA5IDIyMnQ0LjUgMTAuNSAxMSA0LjUgMTEtNC41VDM0MCAyMjJ0LTQuNS0xMC41VDMyNSAyMDd6bS02MiA0NHEtMSAxLTEgMmwtMiAxMnEtMSA1IDAgMTF2NHEtMTcgNS0zMCA1aC0xMHEtNy0xLTEwLTRsLTItMmgxcTQtMSAxMC00bDYtMnExOC05IDM4LTIyem0tNyA2OGgybDUgNHEyIDIgMyA0bDMgMTAtMiAxM3EtMyA3LTkgMTMtMTAgMTAtMjIgMTJoLTlsLTQtMXEtMy0yLTUtNGwtMS0yLTMtOXYtNWw0LTkgNC02IDQtNXE5LTkgMjAtMTNsNC0xcTMtMSA2LTF6bTg5IDVxMjQgMCA0OCA5LTQgOC00IDE2LTI1LTEyLTUxLTExLTI5IDAtNTYgMTUgMi03IDItMTMgMjYtMTMgNTQtMTZoN3ptNTUgNDhxMTMgMTQgMzYgMTYgMTEgMSAyOS0yIDMyIDQzIDM1IDk4IDIgNTAtMjQgOTgtMTAtNS0xOS01IDI1LTQzIDIzLTkxLTItNDUtMjUtODIgNSAyNS0xIDUxLTcgMzItMjcgOTQtMTIgMzgtMTcgNTctNSAxMC02IDIzbC0zIDEwIDItMnEwIDEwIDIgMjMtNDAgMjUtODMgMjQtNDctMy04OC0zOS0zOC0zNC01MC04MS0xMi00NC0uNS05MC41VDIyMyAzOTBxNCAxIDkgMWgycS0xMSAxMi0yMCAyNyA0LTEgMTItNSAxNS02IDI0LTQgMiAwIDEuNSA0dC0zIDYuNS04IDQtNy41IDIuNXEyIDQ2IDEzLjUgODcuNVQyODUgNjA4cTEtMzUgNi02OCAzLTE5IDEyLTUzLTgtMjQtMTItMzktMi0xMC02LTMxLTEzIDEtMTUuNS41VDI2OCA0MTNxMS04IDctOWw0MC0zcTM5LTQgNDAtMyA2IDYtMyAxMC01IDItMjAgNCAxMSA0NiAyOSA5NCAxMiAzNCAzNSA5MCA2LTI2IDE0LTU5IDEzLTM5IDExLjUtNjIuNVQ0MDQgNDI4cS0yNy00MS00LTU2em0tMTk5IDcxcS0xNiAzOS0xNCA4MCAyIDQzIDI0IDc3IDI0IDM4IDY3IDU3LTQxLTYxLTU4LjUtMTA5LjVUMjAxIDQ0M3ptMTA5IDY3cS0xMSA1MS0xMyA5Mi0yIDI5IDIgNjIgMTYgMyAzMiAyIDIyLTEgNDctMTMtNC01LTIyLTQxLTI2LTUwLTQ2LTEwMnptLTE3NCA4M2gybDQgMSAxMCAyIDggNCA2IDQgNiA1cTUgNSAxMiAxNCAyNCAzMyA1MSA4OWw2IDEzIDMgOXEyIDkgMiAxOC0xIDMtMSA2bC0yIDQtNSA0cS0zIDEtNiAxbC0xMC0xLTgtM3EtMTItNS0yNi0xNC0yMC0xNC00MC0zNC0xOC0xOS0zMC41LTM4LjVUMTAyIDY0M3EtNS0yMSA2LTM1bDQtNSA0LTQgMy0yIDgtM3ptMzE3IDRxNiAwIDEyIDNsMTAgNiAxNiAxNSAyOCA0MyAxMCAzM3E3IDMxIDAgNjBsLTYgMjMtMyA3LTYgMTItNyA5LTEwIDgtNiAzLTYgMy03IDEtMTAgMWgtNmwtNi0xLTQtMnEtMi0yLTQtM2wtMy01LTQtMTFxLTEtNi0xLTE1di01OWwtOS00Ni03LTM2cS0xLTE5IDQtMzFsNC01IDktOXE2LTQgMTItNHptMjM0IDE3MXEtNCAxMC04IDE5LjV0LTkgMTguNWwtMTcgMjgtOSAxM3EtNyA5LTE0IDE3bC03IDhxLTI4IDMxLTYzIDU3bC0xMCA2cS0xNCAxMC0yOSAxOGwtMTUgOC0xNiA4LTI2IDEwLTExIDQtMjggOC05IDJxLTEyIDItMjMgMmgtMjNxLTEzLTEtMjYtNGwtNi0xLTIyLTYtMTctNi0xNy04LTE2LTgtMTQtOS0yMC0xNi0xMy0xMy03LTlxLTExLTE2LTExLTI4dDQtMjBsMy01cTYtOCAxNS41LTEwdDE4LjUtMWwxMCAzIDExIDRxNiA0IDEyIDlsMTAgOXE5IDkgMTYgMjBsMTAgMTQgOCA4IDEwIDggMTMgNyAxMyA2cTE4IDYgMzkgNmgxN2wyMS0yIDI2LTZxNDUtMTMgODgtNDJsMTktMTUgMjItMTkgMjAtMjAgNi04IDIyLTMwIDctMTJxMTEtNSAyMi0xMC41dDIzLTEyLjV6IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPgo='
		);
		add_submenu_page(
			$slug,
			__('Wapuugotchi', 'wapuugotchi'),
			__('Customizer', 'wapuugotchi'),
			$capability,
			$slug,
			[$this, 'customizer_page_template']
		);
		add_submenu_page(
			$slug,
			__('Wapuugotchi', 'wapuugotchi'),
			__('Quest Log', 'wapuugotchi'),
			$capability,
			$slug . '-quests',
			[$this, 'quests_page_template']
		);
	}

	public function customizer_page_template()
	{
		echo '<div class="wrap"><div id="wapuugotchi-app"></div></div>';
	}

	public function quests_page_template()
	{
		$active_quests = Quests::get_active_quests();
		$completed_quests = Quests::get_completed_quests();

		echo '<div class="wrap">';
		echo '<div class="wapuugotchi_log">';;
		if(!empty($active_quests)) {
			echo '<div class="wapuugotchi_log__items">';
			echo '<h1>Active Quests</h1>';
			foreach ($active_quests as $quests) {
				echo 	'<div class="wapuugotchi_log__item wapuugotchi_log__active">';
				echo	'<h2>' . $quests->getTitle() . '</h2>';
				echo	'<span>' . $quests->getPearls() . ' <img alt="" src="data:image/svg+xml;base64,PHN2ZwoJd2lkdGg9IjE3IgoJaGVpZ2h0PSIxMiIKCXZpZXdCb3g9IjAgMCAxNyAxMiIKCWZpbGw9Im5vbmUiCgl4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCj4KCTxwYXRoCgkJZD0iTTguODk2NDcgNC4yMzkyNkM2Ljc1OTcxIDQuMjM5MjYgNS4wMTYxMSA1Ljk4Mjg5IDUuMDE2MTEgOC4xMTk2MkM1LjAxNjExIDEwLjI1NjQgNi43NTk3NCAxMiA4Ljg5NjQ3IDEyQzExLjAzMzIgMTIgMTIuNzc2OCAxMC4yNTY0IDEyLjc3NjggOC4xMTk2MkMxMi43NzY4IDUuOTgyOTggMTEuMDMzMiA0LjIzOTI2IDguODk2NDcgNC4yMzkyNlpNMTAuNzQyNiA4LjY0OTU0QzEwLjQ1MjEgOC42NDk1NCAxMC4yMTI4IDguNDEwMjMgMTAuMjEyOCA4LjExOTY1QzEwLjIxMjggNy40MDE3IDkuNjE0NCA2LjgwMzM3IDguODk2NDcgNi44MDMzN0M4LjYwNTg5IDYuODAzMzcgOC4zNjY1OSA2LjU2NDA2IDguMzY2NTkgNi4yNzM0OUM4LjM2NjU5IDUuOTgyOSA4LjYwNTkgNS43NDM2IDguODk2NDcgNS43NDM2QzEwLjIxMjggNS43NDM2IDExLjI4OTYgNi44MjA1NiAxMS4yODk2IDguMTM2NzFDMTEuMjg5NiA4LjQxMDI1IDExLjA1MDMgOC42NDk1NyAxMC43NDI2IDguNjQ5NTdWOC42NDk1NFoiCgkJZmlsbD0iYmxhY2siCgkvPgoJPHBhdGgKCQlkPSJNNi4yNDY5OCAzLjExMTExQzYuMzMyNDcgMy4zMTYyIDYuNTM3NTYgMy40MzU5MyA2Ljc0MjY0IDMuNDM1OTNDNi44MTA5NyAzLjQzNTkzIDYuODc5NDEgMy40MTg4OCA2Ljk0Nzc0IDMuNDAxNzFDNy4yMjEyNyAzLjI4MTk5IDcuMzU4MDMgMi45NzQzNSA3LjIzODMyIDIuNzAwODJMNi43MjU0NyAxLjQ3MDA0QzYuNjA1NzUgMS4xOTY1MSA2LjI5ODEyIDEuMDc2OTEgNi4wMjQ1OCAxLjE3OTQ2QzUuNzUxMDUgMS4yOTkxNyA1LjYxNDI5IDEuNjA2ODEgNS43MzQgMS44ODAzNUw2LjI0Njk4IDMuMTExMTFaIgoJCWZpbGw9ImJsYWNrIgoJLz4KCTxwYXRoCgkJZD0iTTUuMjg5NjcgMy43NDM1NUwzLjkyMjExIDIuMzc1OTlDMy43MTcwMSAyLjE3MDg5IDMuMzc1MDMgMi4xNzA4OSAzLjE2OTk0IDIuMzc1OTlDMi45NjQ4NCAyLjU4MTA4IDIuOTY0ODQgMi45MjMwNiAzLjE2OTk0IDMuMTI4MTZMNC41Mzc0OSA0LjQ5NTcyQzQuNjQwMDQgNC41OTgyNiA0Ljc3NjgxIDQuNjQ5NTQgNC45MTM1NiA0LjY0OTU0QzUuMDUwMzIgNC42NDk1NCA1LjE4NzEgNC41OTgyNiA1LjI4OTYzIDQuNDk1NzJDNS40OTQ3MyA0LjI5MDYyIDUuNDk0NzYgMy45NjU4MyA1LjI4OTY3IDMuNzQzNTVaIgoJCWZpbGw9ImJsYWNrIgoJLz4KCTxwYXRoCgkJZD0iTTMuODg3ODMgNS40N0wyLjY1NzA2IDQuOTU3MTVDMi4zODM1MyA0LjgzNzQzIDIuMDc1ODkgNC45NzQyIDEuOTU2MTcgNS4yNDc3M0MxLjgzNjQ1IDUuNTIxMjYgMS45NzMyMiA1LjgyODkgMi4yNDY3NSA1Ljk0ODYyTDMuNDc3NTMgNi40NjE0N0MzLjU0NTg1IDYuNDk1NjkgMy42MTQzIDYuNDk1NjkgMy42ODI2MiA2LjQ5NTY5QzMuODg3NzIgNi40OTU2OSA0LjA5MjkxIDYuMzc1OTggNC4xNzgyOSA2LjE3MDg3QzQuMjgwOTYgNS44OTczNCA0LjE2MTI1IDUuNTcyNTMgMy44ODc4MyA1LjQ3WiIKCQlmaWxsPSJibGFjayIKCS8+Cgk8cGF0aAoJCWQ9Ik0zLjc4NTM2IDguMTE5NjFDMy43ODUzNiA3LjgyOTAyIDMuNTQ2MDUgNy41ODk3MiAzLjI1NTQ3IDcuNTg5NzJMMS4zMDY3NCA3LjU4OTZDMS4wMTYxNiA3LjU4OTYgMC43NzY4NTUgNy44Mjg5MSAwLjc3Njg1NSA4LjExOTQ5QzAuNzc2ODU1IDguNDEwMDYgMS4wMTYxNyA4LjY0OTM3IDEuMzA2NzQgOC42NDkzN0wzLjI1NTQ3IDguNjQ5NDlDMy41NDYwNSA4LjY0OTQ5IDMuNzg1MzYgOC40MTAxOCAzLjc4NTM2IDguMTE5NjFaIgoJCWZpbGw9ImJsYWNrIgoJLz4KCTxwYXRoCgkJZD0iTTMuNDc3NTIgOS43OTQ3N0wyLjI0Njc1IDEwLjMwNzZDMS45NzMyMSAxMC40MjczIDEuODM2NDYgMTAuNzM1IDEuOTU2MTYgMTEuMDA4NUMyLjA0MTY2IDExLjIxMzYgMi4yNDY3NSAxMS4zMzMzIDIuNDUxODMgMTEuMzMzM0MyLjUyMDE2IDExLjMzMzMgMi41ODg2IDExLjMxNjMgMi42NTY5MiAxMS4yOTkxTDMuODg3NyAxMC43ODYzQzQuMTYxMjMgMTAuNjY2NSA0LjI5Nzk5IDEwLjM1ODkgNC4xNzgyOCAxMC4wODU0QzQuMDU4NjkgOS44MTE4NCAzLjc1MTA2IDkuNjc1MDcgMy40Nzc1MiA5Ljc5NDc3WiIKCQlmaWxsPSJibGFjayIKCS8+Cgk8cGF0aAoJCWQ9Ik0xNS41NDYgMTAuMjkwNkwxNC4zMTUzIDkuNzc3N0MxNC4wNDE3IDkuNjU3OTkgMTMuNzM0MSA5Ljc5NDc1IDEzLjYxNDQgMTAuMDY4M0MxMy40OTQ3IDEwLjM0MTggMTMuNjMxNCAxMC42NDk1IDEzLjkwNSAxMC43NjkyTDE1LjEzNTcgMTEuMjgyQzE1LjIwNDEgMTEuMzE2MyAxNS4yNzI1IDExLjMxNjMgMTUuMzQwOCAxMS4zMTYzQzE1LjU0NTkgMTEuMzE2MyAxNS43NTExIDExLjE5NjUgMTUuODM2NSAxMC45OTE0QzE1LjkzOTIgMTAuNzE3OSAxNS44MTk2IDEwLjQxMDMgMTUuNTQ2IDEwLjI5MDZaIgoJCWZpbGw9ImJsYWNrIgoJLz4KCTxwYXRoCgkJZD0iTTE2LjQ4NjQgNy41ODk4NEgxNC41Mzc3QzE0LjI0NzEgNy41ODk4NCAxNC4wMDc4IDcuODI5MTYgMTQuMDA3OCA4LjExOTczQzE0LjAwNzggOC40MTAzMSAxNC4yNDcxIDguNjQ5NjIgMTQuNTM3NyA4LjY0OTYySDE2LjQ2OTRDMTYuNzU5OSA4LjY0OTYyIDE2Ljk5OTMgOC40MTAzMSAxNi45OTkzIDguMTE5NzNDMTcuMDE2MyA3LjgyOTI3IDE2Ljc3NyA3LjU4OTg0IDE2LjQ4NjQgNy41ODk4NEgxNi40ODY0WiIKCQlmaWxsPSJibGFjayIKCS8+Cgk8cGF0aAoJCWQ9Ik0xMy42MTQ1IDYuMTcxMDJDMTMuNyA2LjM3NjExIDEzLjkwNTEgNi40OTU4NCAxNC4xMTAyIDYuNDk1ODRDMTQuMTc4NSA2LjQ5NTg0IDE0LjI0NjkgNi40Nzg3OSAxNC4zMTUzIDYuNDYxNjJMMTUuNTQ2IDUuOTQ4NzZDMTUuODE5NiA1LjgyOTA1IDE1Ljk1NjMgNS41MjE0MSAxNS44MzY2IDUuMjQ3ODdDMTUuNzE2OSA0Ljk3NDM0IDE1LjQwOTMgNC44NTQ3NCAxNS4xMzU3IDQuOTU3MjlMMTMuOTA1IDUuNDcwMTRDMTMuNjMxNyA1LjU3MjY5IDEzLjUxMiA1Ljg5NzQ4IDEzLjYxNDUgNi4xNzEwMloiCgkJZmlsbD0iYmxhY2siCgkvPgoJPHBhdGgKCQlkPSJNMTQuNjM5OCAyLjM3NTk5QzE0LjQzNDcgMi4xNzA4OSAxNC4wOTI3IDIuMTcwODkgMTMuODg3NiAyLjM3NTk5TDEyLjUyIDMuNzQzNTVDMTIuMzE0OSAzLjk0ODY0IDEyLjMxNDkgNC4yOTA2MiAxMi41MiA0LjQ5NTcyQzEyLjYyMjYgNC41OTgyNiAxMi43NTkzIDQuNjQ5NTQgMTIuODk2MSA0LjY0OTU0QzEzLjAzMjkgNC42NDk1NCAxMy4xNjk2IDQuNTk4MjYgMTMuMjcyMiA0LjQ5NTcyTDE0LjYzOTcgMy4xMjgxNkMxNC44NDQ4IDIuOTIyOTUgMTQuODQ0OSAyLjU4MTA5IDE0LjYzOTggMi4zNzU5OVoiCgkJZmlsbD0iYmxhY2siCgkvPgoJPHBhdGgKCQlkPSJNMTAuODQ1MSAzLjQwMTgyQzEwLjkxMzQgMy40MzYwNCAxMC45ODE5IDMuNDM2MDQgMTEuMDUwMiAzLjQzNjA0QzExLjI1NTMgMy40MzYwNCAxMS40NjA1IDMuMzE2MzIgMTEuNTQ1OSAzLjExMTIyTDEyLjA1ODcgMS44ODA0NUMxMi4xNzg0IDEuNjA2OTEgMTIuMDQxNyAxLjI5OTI4IDExLjc2ODEgMS4xNzk1NkMxMS40OTQ2IDEuMDU5ODQgMTEuMTg3IDEuMTk2NjEgMTEuMDY3MiAxLjQ3MDE0TDEwLjU1NDQgMi43MDA5MkMxMC40NTIgMi45NzQ0NSAxMC41NzE2IDMuMjgyMjIgMTAuODQ1MSAzLjQwMTgyWiIKCQlmaWxsPSJibGFjayIKCS8+Cgk8cGF0aAoJCWQ9Ik04Ljg5NjU5IDMuMDA4NUM5LjE4NzE3IDMuMDA4NSA5LjQyNjQ3IDIuNzY5MTkgOS40MjY0NyAyLjQ3ODYxVjAuNTI5ODg3QzkuNDI2NDcgMC4yMzkzMDIgOS4xODcxNiAwIDguODk2NTkgMEM4LjYwNjAxIDAgOC4zNjY3IDAuMjM5MzExIDguMzY2NyAwLjUyOTg4N1YyLjQ2MTU1QzguMzY2NyAyLjc2OTE4IDguNjA2MDEgMy4wMDg1IDguODk2NTkgMy4wMDg1WiIKCQlmaWxsPSJibGFjayIKCS8+Cjwvc3ZnPgo=" /></span>';
				echo	'<span>' . '</span>';
				echo 	'</div>';
			}
			echo 	'</div>';
		}
		if(!empty($completed_quests)) {
			echo '<div class="wapuugotchi_log__items">';
			echo '<h1>Completed Quests</h1>';
			foreach ($completed_quests as $quests) {
				echo 	'<div class="wapuugotchi_log__item wapuugotchi_log__completed">';
				echo	'<h2>' . $quests['title'] . '</h2>';
				echo	'<p>Completed ' . $quests['date'] . '</p>';
				echo	'<span>' . $quests['pearls'] . ' <img alt="" src="data:image/svg+xml;base64,PHN2ZwoJd2lkdGg9IjE3IgoJaGVpZ2h0PSIxMiIKCXZpZXdCb3g9IjAgMCAxNyAxMiIKCWZpbGw9Im5vbmUiCgl4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCj4KCTxwYXRoCgkJZD0iTTguODk2NDcgNC4yMzkyNkM2Ljc1OTcxIDQuMjM5MjYgNS4wMTYxMSA1Ljk4Mjg5IDUuMDE2MTEgOC4xMTk2MkM1LjAxNjExIDEwLjI1NjQgNi43NTk3NCAxMiA4Ljg5NjQ3IDEyQzExLjAzMzIgMTIgMTIuNzc2OCAxMC4yNTY0IDEyLjc3NjggOC4xMTk2MkMxMi43NzY4IDUuOTgyOTggMTEuMDMzMiA0LjIzOTI2IDguODk2NDcgNC4yMzkyNlpNMTAuNzQyNiA4LjY0OTU0QzEwLjQ1MjEgOC42NDk1NCAxMC4yMTI4IDguNDEwMjMgMTAuMjEyOCA4LjExOTY1QzEwLjIxMjggNy40MDE3IDkuNjE0NCA2LjgwMzM3IDguODk2NDcgNi44MDMzN0M4LjYwNTg5IDYuODAzMzcgOC4zNjY1OSA2LjU2NDA2IDguMzY2NTkgNi4yNzM0OUM4LjM2NjU5IDUuOTgyOSA4LjYwNTkgNS43NDM2IDguODk2NDcgNS43NDM2QzEwLjIxMjggNS43NDM2IDExLjI4OTYgNi44MjA1NiAxMS4yODk2IDguMTM2NzFDMTEuMjg5NiA4LjQxMDI1IDExLjA1MDMgOC42NDk1NyAxMC43NDI2IDguNjQ5NTdWOC42NDk1NFoiCgkJZmlsbD0iYmxhY2siCgkvPgoJPHBhdGgKCQlkPSJNNi4yNDY5OCAzLjExMTExQzYuMzMyNDcgMy4zMTYyIDYuNTM3NTYgMy40MzU5MyA2Ljc0MjY0IDMuNDM1OTNDNi44MTA5NyAzLjQzNTkzIDYuODc5NDEgMy40MTg4OCA2Ljk0Nzc0IDMuNDAxNzFDNy4yMjEyNyAzLjI4MTk5IDcuMzU4MDMgMi45NzQzNSA3LjIzODMyIDIuNzAwODJMNi43MjU0NyAxLjQ3MDA0QzYuNjA1NzUgMS4xOTY1MSA2LjI5ODEyIDEuMDc2OTEgNi4wMjQ1OCAxLjE3OTQ2QzUuNzUxMDUgMS4yOTkxNyA1LjYxNDI5IDEuNjA2ODEgNS43MzQgMS44ODAzNUw2LjI0Njk4IDMuMTExMTFaIgoJCWZpbGw9ImJsYWNrIgoJLz4KCTxwYXRoCgkJZD0iTTUuMjg5NjcgMy43NDM1NUwzLjkyMjExIDIuMzc1OTlDMy43MTcwMSAyLjE3MDg5IDMuMzc1MDMgMi4xNzA4OSAzLjE2OTk0IDIuMzc1OTlDMi45NjQ4NCAyLjU4MTA4IDIuOTY0ODQgMi45MjMwNiAzLjE2OTk0IDMuMTI4MTZMNC41Mzc0OSA0LjQ5NTcyQzQuNjQwMDQgNC41OTgyNiA0Ljc3NjgxIDQuNjQ5NTQgNC45MTM1NiA0LjY0OTU0QzUuMDUwMzIgNC42NDk1NCA1LjE4NzEgNC41OTgyNiA1LjI4OTYzIDQuNDk1NzJDNS40OTQ3MyA0LjI5MDYyIDUuNDk0NzYgMy45NjU4MyA1LjI4OTY3IDMuNzQzNTVaIgoJCWZpbGw9ImJsYWNrIgoJLz4KCTxwYXRoCgkJZD0iTTMuODg3ODMgNS40N0wyLjY1NzA2IDQuOTU3MTVDMi4zODM1MyA0LjgzNzQzIDIuMDc1ODkgNC45NzQyIDEuOTU2MTcgNS4yNDc3M0MxLjgzNjQ1IDUuNTIxMjYgMS45NzMyMiA1LjgyODkgMi4yNDY3NSA1Ljk0ODYyTDMuNDc3NTMgNi40NjE0N0MzLjU0NTg1IDYuNDk1NjkgMy42MTQzIDYuNDk1NjkgMy42ODI2MiA2LjQ5NTY5QzMuODg3NzIgNi40OTU2OSA0LjA5MjkxIDYuMzc1OTggNC4xNzgyOSA2LjE3MDg3QzQuMjgwOTYgNS44OTczNCA0LjE2MTI1IDUuNTcyNTMgMy44ODc4MyA1LjQ3WiIKCQlmaWxsPSJibGFjayIKCS8+Cgk8cGF0aAoJCWQ9Ik0zLjc4NTM2IDguMTE5NjFDMy43ODUzNiA3LjgyOTAyIDMuNTQ2MDUgNy41ODk3MiAzLjI1NTQ3IDcuNTg5NzJMMS4zMDY3NCA3LjU4OTZDMS4wMTYxNiA3LjU4OTYgMC43NzY4NTUgNy44Mjg5MSAwLjc3Njg1NSA4LjExOTQ5QzAuNzc2ODU1IDguNDEwMDYgMS4wMTYxNyA4LjY0OTM3IDEuMzA2NzQgOC42NDkzN0wzLjI1NTQ3IDguNjQ5NDlDMy41NDYwNSA4LjY0OTQ5IDMuNzg1MzYgOC40MTAxOCAzLjc4NTM2IDguMTE5NjFaIgoJCWZpbGw9ImJsYWNrIgoJLz4KCTxwYXRoCgkJZD0iTTMuNDc3NTIgOS43OTQ3N0wyLjI0Njc1IDEwLjMwNzZDMS45NzMyMSAxMC40MjczIDEuODM2NDYgMTAuNzM1IDEuOTU2MTYgMTEuMDA4NUMyLjA0MTY2IDExLjIxMzYgMi4yNDY3NSAxMS4zMzMzIDIuNDUxODMgMTEuMzMzM0MyLjUyMDE2IDExLjMzMzMgMi41ODg2IDExLjMxNjMgMi42NTY5MiAxMS4yOTkxTDMuODg3NyAxMC43ODYzQzQuMTYxMjMgMTAuNjY2NSA0LjI5Nzk5IDEwLjM1ODkgNC4xNzgyOCAxMC4wODU0QzQuMDU4NjkgOS44MTE4NCAzLjc1MTA2IDkuNjc1MDcgMy40Nzc1MiA5Ljc5NDc3WiIKCQlmaWxsPSJibGFjayIKCS8+Cgk8cGF0aAoJCWQ9Ik0xNS41NDYgMTAuMjkwNkwxNC4zMTUzIDkuNzc3N0MxNC4wNDE3IDkuNjU3OTkgMTMuNzM0MSA5Ljc5NDc1IDEzLjYxNDQgMTAuMDY4M0MxMy40OTQ3IDEwLjM0MTggMTMuNjMxNCAxMC42NDk1IDEzLjkwNSAxMC43NjkyTDE1LjEzNTcgMTEuMjgyQzE1LjIwNDEgMTEuMzE2MyAxNS4yNzI1IDExLjMxNjMgMTUuMzQwOCAxMS4zMTYzQzE1LjU0NTkgMTEuMzE2MyAxNS43NTExIDExLjE5NjUgMTUuODM2NSAxMC45OTE0QzE1LjkzOTIgMTAuNzE3OSAxNS44MTk2IDEwLjQxMDMgMTUuNTQ2IDEwLjI5MDZaIgoJCWZpbGw9ImJsYWNrIgoJLz4KCTxwYXRoCgkJZD0iTTE2LjQ4NjQgNy41ODk4NEgxNC41Mzc3QzE0LjI0NzEgNy41ODk4NCAxNC4wMDc4IDcuODI5MTYgMTQuMDA3OCA4LjExOTczQzE0LjAwNzggOC40MTAzMSAxNC4yNDcxIDguNjQ5NjIgMTQuNTM3NyA4LjY0OTYySDE2LjQ2OTRDMTYuNzU5OSA4LjY0OTYyIDE2Ljk5OTMgOC40MTAzMSAxNi45OTkzIDguMTE5NzNDMTcuMDE2MyA3LjgyOTI3IDE2Ljc3NyA3LjU4OTg0IDE2LjQ4NjQgNy41ODk4NEgxNi40ODY0WiIKCQlmaWxsPSJibGFjayIKCS8+Cgk8cGF0aAoJCWQ9Ik0xMy42MTQ1IDYuMTcxMDJDMTMuNyA2LjM3NjExIDEzLjkwNTEgNi40OTU4NCAxNC4xMTAyIDYuNDk1ODRDMTQuMTc4NSA2LjQ5NTg0IDE0LjI0NjkgNi40Nzg3OSAxNC4zMTUzIDYuNDYxNjJMMTUuNTQ2IDUuOTQ4NzZDMTUuODE5NiA1LjgyOTA1IDE1Ljk1NjMgNS41MjE0MSAxNS44MzY2IDUuMjQ3ODdDMTUuNzE2OSA0Ljk3NDM0IDE1LjQwOTMgNC44NTQ3NCAxNS4xMzU3IDQuOTU3MjlMMTMuOTA1IDUuNDcwMTRDMTMuNjMxNyA1LjU3MjY5IDEzLjUxMiA1Ljg5NzQ4IDEzLjYxNDUgNi4xNzEwMloiCgkJZmlsbD0iYmxhY2siCgkvPgoJPHBhdGgKCQlkPSJNMTQuNjM5OCAyLjM3NTk5QzE0LjQzNDcgMi4xNzA4OSAxNC4wOTI3IDIuMTcwODkgMTMuODg3NiAyLjM3NTk5TDEyLjUyIDMuNzQzNTVDMTIuMzE0OSAzLjk0ODY0IDEyLjMxNDkgNC4yOTA2MiAxMi41MiA0LjQ5NTcyQzEyLjYyMjYgNC41OTgyNiAxMi43NTkzIDQuNjQ5NTQgMTIuODk2MSA0LjY0OTU0QzEzLjAzMjkgNC42NDk1NCAxMy4xNjk2IDQuNTk4MjYgMTMuMjcyMiA0LjQ5NTcyTDE0LjYzOTcgMy4xMjgxNkMxNC44NDQ4IDIuOTIyOTUgMTQuODQ0OSAyLjU4MTA5IDE0LjYzOTggMi4zNzU5OVoiCgkJZmlsbD0iYmxhY2siCgkvPgoJPHBhdGgKCQlkPSJNMTAuODQ1MSAzLjQwMTgyQzEwLjkxMzQgMy40MzYwNCAxMC45ODE5IDMuNDM2MDQgMTEuMDUwMiAzLjQzNjA0QzExLjI1NTMgMy40MzYwNCAxMS40NjA1IDMuMzE2MzIgMTEuNTQ1OSAzLjExMTIyTDEyLjA1ODcgMS44ODA0NUMxMi4xNzg0IDEuNjA2OTEgMTIuMDQxNyAxLjI5OTI4IDExLjc2ODEgMS4xNzk1NkMxMS40OTQ2IDEuMDU5ODQgMTEuMTg3IDEuMTk2NjEgMTEuMDY3MiAxLjQ3MDE0TDEwLjU1NDQgMi43MDA5MkMxMC40NTIgMi45NzQ0NSAxMC41NzE2IDMuMjgyMjIgMTAuODQ1MSAzLjQwMTgyWiIKCQlmaWxsPSJibGFjayIKCS8+Cgk8cGF0aAoJCWQ9Ik04Ljg5NjU5IDMuMDA4NUM5LjE4NzE3IDMuMDA4NSA5LjQyNjQ3IDIuNzY5MTkgOS40MjY0NyAyLjQ3ODYxVjAuNTI5ODg3QzkuNDI2NDcgMC4yMzkzMDIgOS4xODcxNiAwIDguODk2NTkgMEM4LjYwNjAxIDAgOC4zNjY3IDAuMjM5MzExIDguMzY2NyAwLjUyOTg4N1YyLjQ2MTU1QzguMzY2NyAyLjc2OTE4IDguNjA2MDEgMy4wMDg1IDguODk2NTkgMy4wMDg1WiIKCQlmaWxsPSJibGFjayIKCS8+Cjwvc3ZnPgo=" /></span>';
				echo 	'</div>';

			}
		}
		echo '</div></div></div>';
	}
}
